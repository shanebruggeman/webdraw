<!DOCTYPE html>
<html>
<head>
	<title>Web Draw</title>
	<!--CSS-->
	<link rel="stylesheet" type="text/css" href="../css/main.css">
	<link rel="stylesheet" type="text/css" href="../css/draw.css">
	
	<!--Javascript-->
	<script src="../libraries/jquery-2.1.3.min.js"></script>
	<script src="../javascript/index.js"></script>
	
	<!-- jQuery UI -->
	<script type="text/javascript" src="../libraries/wPaint/lib/jquery.ui.core.1.10.3.min.js"></script>
	<script type="text/javascript" src="../libraries/wPaint/lib/jquery.ui.widget.1.10.3.min.js"></script>
	<script type="text/javascript" src="../libraries/wPaint/lib/jquery.ui.mouse.1.10.3.min.js"></script>
	<script type="text/javascript" src="../libraries/wPaint/lib/jquery.ui.draggable.1.10.3.min.js"></script>

	<!-- wColorPicker -->
	<link rel="Stylesheet" type="text/css" href="../libraries/wPaint/lib/wColorPicker.min.css" />
	<script type="text/javascript" src="../libraries/wPaint/lib/wColorPicker.min.js"></script>
	
	<!-- wPaint -->
	<link rel="Stylesheet" type="text/css" href="../libraries/wPaint/src/wPaint.css" />
	<script type="text/javascript" src="../libraries/wPaint/src/wPaint.utils.js"></script>
	<script type="text/javascript" src="../libraries/wPaint/src/wPaint.js"></script>

	<!-- wPaint main -->
	<script type="text/javascript" src="../libraries/wPaint/plugins/main/src/fillArea.min.js"></script>
	<script type="text/javascript" src="../libraries/wPaint/plugins/main/src/wPaint.menu.main.js"></script>

	<!-- wPaint text -->
	<script type="text/javascript" src="../libraries/wPaint/plugins/text/src/wPaint.menu.text.js"></script>

	<!-- wPaint shapes -->
	<script type="text/javascript" src="../libraries/wPaint/plugins/shapes/src/shapes.min.js"></script>
	<script type="text/javascript" src="../libraries/wPaint/plugins/shapes/src/wPaint.menu.main.shapes.js"></script>

	<!-- wPaint file -->
	<script type="text/javascript" src="../libraries/wPaint/plugins/file/src/wPaint.menu.main.file.js"></script>
	
	

	<!--misc-->
	<link href="../../resources/images/paint_full1.gif" type="image/gif" rel="shortcut icon"/>
	
	<meta charset="UTF-8"> 
</head>
<body>
	<div class="wrapper">
		<header role="banner">
			<nav>
				<div id="logo">
					<img src="../../resources/images/paintsmall.gif">
					<a href="#">Web Draw</a>
				</div>

				<label for="show-menu" class="show-menu">
					<img src="../../resources/images/paintsmall.gif"></label>
				<input type="checkbox" id="show-menu" role="button">
				<ul id="menu">
					<li>
						<a href="index.html">Profile</a>
					</li>
					<li>
						<a href="#">Draw</a>
					</li>
					<li>
						<a href="#">Gallery</a>
					</li>
					<li>
						<a href="#">Settings</a>
						<ul class="hidden">
							<li>
								<a href="#">Sample1</a>
							</li>
							<li>
								<a href="#">Sample2</a>
							</li>
							<li>
								<a href="#">Sample3</a>
							</li>
							<li>
								<a href="#">Sample4</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="index.html" onclick="clearCookies()">Clear Cookies</a>
					</li>
				</ul>
			</nav>
		</header>
		<!--New Shit goes here-->		
		<div class="push"></div>
	</div>
	
	
<!-- END WPAINT ______________________________________________________________________________________________________-->
	<div id="wPaint-demo1" style="position:relative; width:500px; height:200px; background-color:#7a7a7a; margin:70px auto 20px auto;"></div>

	<center style="margin-bottom: 50px;">
	<input type="button" value="toggle menu" onclick="console.log($('#wPaint-demo1').wPaint('menuOrientation')); $('#wPaint-demo1').wPaint('menuOrientation', $('#wPaint-demo1').wPaint('menuOrientation') === 'vertical' ? 'horizontal' : 'vertical');"/>
	</center>

	<center id="wPaint-img"></center>

	<script type="text/javascript">
	
	//SET DEFAULT PATH TO LOAD WPAINT ICONS
	$('#wPaint-demo1').wPaint({
		path: '../libraries/wPaint/'
	});
	
	var images = [
	  '/test/uploads/wPaint.png',
	];

	function saveImg(image) {
	  var _this = this;

	  $.ajax({
		type: 'POST',
		url: '/test/upload.php',
		data: {image: image},
		success: function (resp) {

		  // internal function for displaying status messages in the canvas
		  _this._displayStatus('Image saved successfully');

		  // doesn't have to be json, can be anything
		  // returned from server after upload as long
		  // as it contains the path to the image url
		  // or a base64 encoded png, either will work
		  resp = $.parseJSON(resp);

		  // update images array / object or whatever
		  // is being used to keep track of the images
		  // can store path or base64 here (but path is better since it's much smaller)
		  images.push(resp.img);

		  // do something with the image
		  $('#wPaint-img').append($('<img/>').attr('src', image));
		}
	  });
	}

	function loadImgBg () {

	  // internal function for displaying background images modal
	  // where images is an array of images (base64 or url path)
	  // NOTE: that if you can't see the bg image changing it's probably
	  // becasue the foregroud image is not transparent.
	  this._showFileModal('bg', images);
	}

	function loadImgFg () {

	  // internal function for displaying foreground images modal
	  // where images is an array of images (base64 or url path)
	  this._showFileModal('fg', images);
	}

	function createCallback(cbName) {
	  return function() {
		if (console) {
		  console.log(cbName, arguments);
		}
	  }
	}

	// init wPaint
	$('#wPaint-demo1').wPaint({
	  menuOffsetLeft: -35,
	  menuOffsetTop: -50,
	  saveImg: saveImg,
	  loadImgBg: loadImgBg,
	  loadImgFg: loadImgFg,
	  onShapeDown: createCallback('onShapeDown'),
	  onShapeUp: createCallback('onShapeUp'),
	  onShapeMove: createCallback('onShapeDMove')
	});
	</script>
<!-- END WPAINT ____________________________________________________________________-->	

	<div style="display:none;" id="blackBackground" onclick="closelogin()"></div>
	<div class="footer"></div>
</body>
</html>